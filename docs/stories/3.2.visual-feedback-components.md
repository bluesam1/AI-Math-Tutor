# Story 3.2: Visual Feedback Components (Progress Indicators, Encouragement)

## Status

Pending

## Story

**As a** student,
**I want** to see visual feedback that encourages me and shows my progress,
**so that** I feel supported and motivated to continue working through problems.

## Acceptance Criteria

1: Visual feedback components are created for progress indicators, showing student advancement through the problem-solving process.

2: Visual feedback components are created for encouraging messages, displaying positive reinforcement when students make progress or show effort.

3: Visual feedback elements are age-appropriate for 6th grade students (ages 11-12), using:

- Friendly colors that are engaging but not overwhelming
- Simple icons or emojis that celebrate progress
- Brief animations (subtle, not distracting) for encouragement

4: Progress indicators are displayed prominently in the interface, showing:

- Current step in the problem-solving process
- Number of attempts or progress milestones
- Visual representation of advancement (e.g., progress bar, step indicators)

5: Encouraging messages are displayed at appropriate moments:

- When students make progress (correct responses, clearer thinking)
- When students show effort (attempting problems, asking questions)
- When students complete steps or reach milestones

6: Visual feedback elements are integrated with the chat conversation component, appearing alongside system responses.

7: Visual feedback elements are responsive and work effectively on desktop, tablet, and mobile browsers.

8: Visual feedback elements are accessible via keyboard navigation and screen readers (appropriate ARIA labels).

## Tasks / Subtasks

- [ ] Task 1: Design Visual Feedback Components Architecture (AC: 1, 2)
  - [ ] Design ProgressIndicator component structure
  - [ ] Design EncouragementMessage component structure
  - [ ] Define visual feedback types (progress, encouragement, celebration)
  - [ ] Define component props and interfaces
  - [ ] Create component file structure

- [ ] Task 2: Create Progress Indicator Component (AC: 1, 4)
  - [ ] Create `apps/web/src/components/ProgressIndicator.tsx`
  - [ ] Implement progress bar visualization
  - [ ] Implement step indicators (milestone markers)
  - [ ] Display current step in problem-solving process
  - [ ] Display number of attempts or progress milestones
  - [ ] Add visual representation of advancement (progress percentage, steps completed)
  - [ ] Style with age-appropriate colors and design

- [ ] Task 3: Create Encouragement Message Component (AC: 2, 5)
  - [ ] Create `apps/web/src/components/EncouragementMessage.tsx`
  - [ ] Implement message display component
  - [ ] Add support for different message types (progress, effort, milestone)
  - [ ] Include simple icons or emojis for celebration
  - [ ] Style with friendly, age-appropriate colors
  - [ ] Add brief, subtle animations for encouragement

- [ ] Task 4: Implement Age-Appropriate Visual Design (AC: 3)
  - [ ] Define color palette for 6th grade students (friendly, engaging, not overwhelming)
  - [ ] Select appropriate icons or emojis for progress celebration
  - [ ] Create subtle animation effects (fade-in, gentle pulse, small bounce)
  - [ ] Ensure animations are not distracting or overwhelming
  - [ ] Test visual design with target age group (if possible)

- [ ] Task 5: Create Visual Feedback Utility Functions (AC: 1, 2, 5)
  - [ ] Create `apps/web/src/utils/visualFeedback.ts` utility module
  - [ ] Implement function to determine progress level (based on attempts, responses)
  - [ ] Implement function to determine encouragement message type
  - [ ] Implement function to generate appropriate encouragement messages
  - [ ] Create progress tracking logic
  - [ ] Create milestone detection logic

- [ ] Task 6: Integrate Progress Indicators in Chat Panel (AC: 1, 4, 6)
  - [ ] Update `apps/web/src/components/ChatPanel.tsx` to include ProgressIndicator
  - [ ] Display progress indicator at top of chat panel
  - [ ] Update progress based on student responses and attempts
  - [ ] Track progress milestones (steps completed, attempts made)
  - [ ] Test progress indicator with various problem types

- [ ] Task 7: Integrate Encouragement Messages in Chat Panel (AC: 2, 5, 6)
  - [ ] Update `apps/web/src/components/ChatPanel.tsx` to include EncouragementMessage
  - [ ] Display encouragement messages alongside system responses
  - [ ] Trigger encouragement messages at appropriate moments:
    - When students make progress (correct responses, clearer thinking)
    - When students show effort (attempting problems, asking questions)
    - When students complete steps or reach milestones
  - [ ] Test encouragement messages with various scenarios

- [ ] Task 8: Implement Progress Tracking Logic (AC: 1, 4)
  - [ ] Create `apps/web/src/hooks/useProgressTracking.ts` custom hook
  - [ ] Track student progress through problem-solving process
  - [ ] Track number of attempts and responses
  - [ ] Calculate progress percentage or milestone completion
  - [ ] Update progress indicators based on tracked data
  - [ ] Reset progress when new problem is loaded

- [ ] Task 9: Implement Responsive Design for Visual Feedback (AC: 7)
  - [ ] Test visual feedback components on desktop browsers
  - [ ] Test visual feedback components on tablet devices
  - [ ] Test visual feedback components on mobile devices
  - [ ] Adjust component sizes and layouts for different screen sizes
  - [ ] Ensure visual feedback is prominent but not overwhelming on small screens
  - [ ] Optimize animations for mobile devices

- [ ] Task 10: Implement Accessibility Features (AC: 8)
  - [ ] Add ARIA labels to progress indicators (e.g., `aria-label="Progress: 50% complete"`)
  - [ ] Add ARIA labels to encouragement messages (e.g., `aria-label="Encouragement message"`)
  - [ ] Ensure keyboard navigation works for visual feedback elements
  - [ ] Test with screen readers (NVDA, JAWS, VoiceOver)
  - [ ] Verify visual feedback is announced correctly by screen readers
  - [ ] Ensure visual feedback doesn't interfere with screen reader navigation

- [ ] Task 11: Add Animations for Visual Feedback (AC: 3)
  - [ ] Implement fade-in animation for encouragement messages
  - [ ] Implement gentle pulse animation for progress indicators
  - [ ] Implement small bounce animation for milestone celebrations
  - [ ] Ensure animations are subtle and not distracting
  - [ ] Use CSS transitions or lightweight animation library (e.g., framer-motion)
  - [ ] Test animation performance on mobile devices

- [ ] Task 12: Integration Testing (AC: 1-8)
  - [ ] Test progress indicators with various problem types
  - [ ] Test encouragement messages with various student responses
  - [ ] Test visual feedback integration in ChatPanel
  - [ ] Test responsive design on different devices
  - [ ] Test accessibility with screen readers
  - [ ] Test animations and visual effects

- [ ] Task 13: Documentation and Examples (AC: 1-8)
  - [ ] Document ProgressIndicator component usage
  - [ ] Document EncouragementMessage component usage
  - [ ] Document visual feedback utility functions
  - [ ] Create examples of visual feedback in different scenarios
  - [ ] Add inline code comments for complex logic
  - [ ] Update README with visual feedback capabilities

## Dependencies

- Story 2.7: Chat UI Component (ChatPanel component exists for integration)

## Required By

- Story 3.5: Comprehensive Testing Across All 5 Problem Types (visual feedback needs to be tested)
- Story 3.6: Final UI Polish & Error Handling (visual feedback may be enhanced)

## Notes

- Visual feedback should be age-appropriate for 6th grade students (ages 11-12)
- Colors should be friendly and engaging but not overwhelming
- Animations should be subtle and not distracting
- Progress indicators should show advancement without revealing answers
- Encouragement messages should be positive and supportive, not patronizing
- Visual feedback should be accessible and work with screen readers
- Consider using emojis sparingly for celebration (age-appropriate)
- Progress tracking should not interfere with Socratic dialogue principles

